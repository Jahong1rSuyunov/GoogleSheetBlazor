@page "/"
@using GoogleSheetBlazor.Storages;

<MudContainer Class="d-flex" Style="height:100vh" Fixed="true">

    <MudGrid Class="align-start" Justify="Justify.FlexStart" Style="height:100%">
        <MudButton OnClick="@ConnectDrive" Class="m-5" Variant="Variant.Filled" Color="MudBlazor.Color.Primary">
            <MudText>Sign In</MudText>
        </MudButton>
    </MudGrid>

    <MudGrid Class="align-end" Justify="Justify.FlexEnd" Style="height:100%">
        <MudButton Href="/googledrive" Class="m-5" Variant="Variant.Filled" Disabled="disabled" Color="MudBlazor.Color.Primary">
            <MudText>Open Drive</MudText>
        </MudButton>
    </MudGrid>

</MudContainer>



@code {
    private Storage storage = new();
    private bool disabled;

    protected override Task OnInitializedAsync()
    {
        disabled = true;
        return base.OnInitializedAsync();
    }

    private void ConnectDrive()
    {
        disabled = !storage.ConnectDrive();
    }

}